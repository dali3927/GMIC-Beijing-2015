#移动购票分析

###有赞微商城

+ GMIC微信公众号API指向有赞微商城 无法实现其它个性化功能
+ 未知有赞微商城有无API，有可能无法与各系统对接。

###一、微信公众平台开发 扫码支付
“需要扫描付款二维码（可在电脑或另一部手机上展示）”

**无法获取用户信息（手机号及邮箱），无法建立openID、手机号关系表。**

1. 商户根据微信支付的规则,为不同商品生成不同的二维码,张贴在各种场景,便于用户扫描购买。
1. 用户使用微信扫描二维码后,获取商品信息,同时到商户后台下单。
1. 用户开始支付,输入支付密码。
1. 支付成功,商户后台得到通知,进行收货处理。

###二、微信公众平台开发 网页内支付
“商户已有HTML5商城网站,在微信内打开网页时,可以调用微信支付完成下单购买的流程。”

**无法获取用户信息（手机号及邮箱），无法建立openID、手机号关系表。**

1. 商户下収图文消息或者通过自定义菜单吸引用户点击进入商户网页。
1. 进入产品展示网页,用户选择购买,完成选购流程。
1. 调起微信支付控件,用户开始输入支付密码。
1. 密码验证通过,支付成功。商户后台得到支付成功的通知。
1. 返回商户页面,显示购买成功。该页面由商户自定义。
1. 公众号下收消息,提示收货成功。本步骤可选。

###三、微信公众平台开发 带参数的二维码

1. 通过短信、邮件向用户发送包含**用户信息**页面的URL （不能直接发送二维码，因为微信永久二维码有严格的数量限制）
1. 本页面调用微信公众平台**临时二维码**，二维码中包含用户手机号，有效期为1800秒。
1. （可询问用户是否将本微信号与手机号绑定）
1. 跳转至门票购买页面
1. 微信成功支付后，通过微信下发订单号等信息

##结论
结合二（网页内支付）及三（带参数的二维码），能够实现用户扫码即可购票（无需输入信息）的业务流程。需要外包业务或招聘程序员进行订单系统及微信支付开发。